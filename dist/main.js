(()=>{"use strict";const t=t=>{const e=[];return{title:t,todos:e,addTodo:t=>{e.push(t)},getTitle:()=>t}},e=(t,e)=>{let o=!1;return{title:t,description:e,getTitle:()=>t,getDescription:()=>e,setCompletion:()=>{o=!0},getCompletion:()=>o}};function o(t){const o=document.createElement("button"),n=document.getElementById("project-div"),c=document.getElementById("navbar");o.textContent=t.title,o.addEventListener("click",(o=>{n.innerHTML="",n.append(function(t){const e=document.createElement("div"),o=document.createElement("h2");return o.textContent=t.title,e.append(o),e}(t),function(){const t=document.createElement("form");t.id="todo-form";const e=document.createElement("label");e.textContent="Todo Title";const o=document.createElement("input");o.setAttribute("type","text"),o.id="todo-title-field";const n=document.createElement("label");n.textContent="Todo Description";const c=document.createElement("input");c.setAttribute("type","text"),c.id="todo-description-field";const l=document.createElement("input");return l.setAttribute("type","submit"),l.textContent="Add Project",l.id="add-todo-button",t.append(e,o,n,c,l),t}()),function(t){const o=document.getElementById("todo-form");JSON.parse(localStorage.getItem(t.title)),o.addEventListener("submit",(o=>{o.preventDefault();let n=JSON.parse(localStorage.getItem(t.title));console.log(n);let c=document.getElementById("todo-title-field"),l=document.getElementById("todo-description-field");console.log(l.value);let d=e(c.value,l.value);console.log(d);let i=JSON.stringify(d);console.log(i),t.addTodo(d),n.todos.push(i),localStorage.setItem(n.title,JSON.stringify(n))}))}(t),t.todos.forEach((t=>n.append(function(t){const o=document.createElement("div");o.classList.add("todo-container");const n=document.createElement("h3"),c=document.createElement("p"),l=document.createElement("input"),d=e(t.title,t.getDescription());return l.classList.add("todo-checkbox"),l.type="checkbox",l.checked=d.getCompletion(),n.textContent=d.getTitle(),c.textContent=d.getDescription(),o.append(n,c,l),o}(t))))})),c.append(o)}(()=>{document.getElementsByClassName("todo-checkbox"),Object.keys(localStorage).forEach((n=>{let c=JSON.parse(localStorage.getItem(n)),l=c.todos,d=t(c.title);l.forEach((t=>{console.log(t);let o=JSON.parse(t);console.log(o.description);let n=e(o.title,o.description);console.log("test"),console.log(n),d.todos.push(n),console.log(d.todos)})),console.log(typeof d.todos[0]),o(d)})),function(){const t=document.createElement("form");t.id="project-form";const e=document.createElement("label");e.textContent="Project Title";const o=document.createElement("input");o.setAttribute("type","text"),o.id="project-title-field";const n=document.createElement("input");n.setAttribute("type","submit"),n.textContent="Add Project",n.id="add-project-button",t.append(e,o,n),document.body.append(t)}(),function(){const e=document.getElementById("project-form"),n=Object.keys(localStorage);e.addEventListener("submit",(e=>{e.preventDefault(),document.getElementById("navbar");let c=document.getElementById("project-title-field"),l=t(c.value);n.includes(c.value)?alert(`Project title "${c.value}" already exists. Please choose a different title`):(localStorage.setItem(l.title,JSON.stringify(l)),o(l))}))}();const n=JSON.parse(localStorage.getItem("test"));console.log(n.todos)})()})();