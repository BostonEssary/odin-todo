(()=>{"use strict";const t=t=>{const e=[];return{title:t,todos:e,addTodo:t=>{e.push(t)},getTitle:()=>t}},e=(t,e)=>{let o=!1;return{title:t,getTitle:()=>t,getDescription:()=>e,setCompletion:()=>{o=!0},getCompletion:()=>o}};function o(t){const o=document.createElement("button"),n=document.getElementById("project-div"),c=document.getElementById("navbar");o.textContent=t.title,o.addEventListener("click",(o=>{n.innerHTML="",n.append(function(t){const e=document.createElement("div"),o=document.createElement("h2");return o.textContent=t.title,e.append(o),e}(t),function(){const t=document.createElement("form");t.id="todo-form";const e=document.createElement("label");e.textContent="Todo Title";const o=document.createElement("input");o.setAttribute("type","text"),o.id="todo-title-field";const n=document.createElement("input");return n.setAttribute("type","submit"),n.textContent="Add Project",n.id="add-todo-button",t.append(e,o,n),t}()),function(t){const o=document.getElementById("todo-form");JSON.parse(localStorage.getItem(t.title)),o.addEventListener("submit",(o=>{o.preventDefault();let n=JSON.parse(localStorage.getItem(t.title));console.log(n);let c=document.getElementById("todo-title-field"),l=e(c.value,"this is the defualt description"),d=JSON.stringify(l);console.log(d),t.addTodo(l),n.todos.push(d),localStorage.setItem(n.title,JSON.stringify(n))}))}(t),console.log(t),t.todos.forEach((t=>n.append(function(t){const o=document.createElement("div"),n=document.createElement("p"),c=document.createElement("p"),l=document.createElement("input");console.log("this is display todo"),console.log(t);const d=e(t.title);return console.log(d),l.classList.add("todo-checkbox"),l.type="checkbox",l.checked=d.getCompletion(),n.textContent=d.getTitle(),console.log(t),c.textContent=d.getDescription(),o.append(n,c,l),o}(t)))),t.todos.forEach((t=>n.append(function(t){const e=document.createElement("button");return e.textContent=t.title,e.addEventListener("click",(e=>{t.setCompletion(),console.log(t.getCompletion())})),e}(t))))})),c.append(o)}(()=>{document.getElementsByClassName("todo-checkbox"),Object.keys(localStorage).forEach((n=>{let c=JSON.parse(localStorage.getItem(n)),l=c.todos,d=t(c.title);l.forEach((t=>{let o=JSON.parse(t),n=e(o.title);d.todos.push(n)})),console.log(typeof d.todos[0]),o(d)})),function(){const t=document.createElement("form");t.id="project-form";const e=document.createElement("label");e.textContent="Project Title";const o=document.createElement("input");o.setAttribute("type","text"),o.id="project-title-field";const n=document.createElement("input");n.setAttribute("type","submit"),n.textContent="Add Project",n.id="add-project-button",t.append(e,o,n),document.body.append(t)}(),function(){const e=document.getElementById("project-form"),n=Object.keys(localStorage);e.addEventListener("submit",(e=>{e.preventDefault(),document.getElementById("navbar");let c=document.getElementById("project-title-field"),l=t(c.value);n.includes(c.value)?alert(`Project title "${c.value}" already exists. Please choose a different title`):(localStorage.setItem(l.title,JSON.stringify(l)),o(l))}))}();const n=JSON.parse(localStorage.getItem("test"));console.log(n.todos)})()})();