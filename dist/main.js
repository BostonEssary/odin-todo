(()=>{"use strict";const t=t=>{const e=[];return{title:t,todos:e,addTodo:t=>{e.push(t)},getTitle:()=>t}},e=(t,e)=>{let o=!1;return{title:t,description:e,getTitle:()=>t,getDescription:()=>e,setCompletion:()=>{o=!0},getCompletion:()=>o}};function o(t){const o=document.createElement("button"),n=document.getElementById("project-div"),c=document.getElementById("navbar");o.textContent=t.title,o.addEventListener("click",(o=>{n.innerHTML="",n.append(function(t){const e=document.createElement("div"),o=document.createElement("h2"),n=document.createElement("button");return n.textContent="Add Todo?",n.addEventListener("click",(()=>{const t=document.getElementById("todo-form");t.classList.remove("hidden"),t.classList.toggle("bounce-in-right")})),o.textContent=t.title,e.append(o,n),e}(t),function(){document.createElement("br");const t=document.createElement("form");t.id="todo-form",t.classList.add("hidden");const e=document.createElement("label");e.textContent="Todo Title";const o=document.createElement("input");o.setAttribute("type","text"),o.id="todo-title-field";const n=document.createElement("label");n.textContent="Todo Description";const c=document.createElement("input");c.setAttribute("type","text"),c.id="todo-description-field";const d=document.createElement("input");return d.setAttribute("type","submit"),d.value="Add Todo",d.id="add-todo-button",d.addEventListener("click",(()=>{const t=document.getElementById("todo-form");t.classList.add("hidden"),t.classList.remove("bounce-in-right")})),t.append(e,document.createElement("br"),o,document.createElement("br"),n,document.createElement("br"),c,document.createElement("br"),d),t}()),function(t){const o=document.getElementById("todo-form");JSON.parse(localStorage.getItem(t.title)),o.addEventListener("submit",(o=>{o.preventDefault();let n=JSON.parse(localStorage.getItem(t.title));console.log(n);let c=document.getElementById("todo-title-field"),d=document.getElementById("todo-description-field");console.log(d.value);let l=e(c.value,d.value);console.log(l);let i=JSON.stringify(l);console.log(i),t.addTodo(l),n.todos.push(i),localStorage.setItem(n.title,JSON.stringify(n))}))}(t),t.todos.forEach((t=>n.append(function(t){const o=document.createElement("div");o.classList.add("todo-container");const n=document.createElement("h3"),c=document.createElement("p"),d=document.createElement("input"),l=e(t.title,t.getDescription());return d.classList.add("todo-checkbox"),d.type="checkbox",d.checked=l.getCompletion(),n.textContent=l.getTitle(),c.textContent=l.getDescription(),o.append(n,c,d),o}(t))))})),c.append(o)}(()=>{document.getElementsByClassName("todo-checkbox"),Object.keys(localStorage).forEach((n=>{let c=JSON.parse(localStorage.getItem(n)),d=c.todos,l=t(c.title);d.forEach((t=>{console.log(t);let o=JSON.parse(t);console.log(o.description);let n=e(o.title,o.description);console.log("test"),console.log(n),l.todos.push(n),console.log(l.todos)})),console.log(typeof l.todos[0]),o(l)})),function(){const t=document.createElement("form");t.id="project-form";const e=document.createElement("label");e.textContent="Project Title";const o=document.createElement("input");o.setAttribute("type","text"),o.id="project-title-field";const n=document.createElement("input");n.setAttribute("type","submit"),n.textContent="Add Project",n.id="add-project-button",t.append(e,o,n),document.body.append(t)}(),function(){const e=document.getElementById("project-form"),n=Object.keys(localStorage);e.addEventListener("submit",(e=>{e.preventDefault(),document.getElementById("navbar");let c=document.getElementById("project-title-field"),d=t(c.value);n.includes(c.value)?alert(`Project title "${c.value}" already exists. Please choose a different title`):(localStorage.setItem(d.title,JSON.stringify(d)),o(d))}))}();const n=JSON.parse(localStorage.getItem("test"));console.log(n.todos)})()})();